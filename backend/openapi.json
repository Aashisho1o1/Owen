{"openapi":"3.1.0","info":{"title":"DOG Writer MVP","description":"AI Writing Assistant with Modular Architecture","version":"3.1.0-REFACTORED"},"paths":{"/api/grammar/check":{"post":{"tags":["grammar"],"summary":"Check Grammar","description":"Check grammar and spelling in text with security validation\n\nSupports two modes:\n- real_time: Fast checking with LanguageTool + local spellcheck (<200ms)\n- comprehensive: LLM-based analysis for complex issues (2-5s)\n\nSecurity features:\n- Input validation and sanitization\n- Rate limiting per IP/user\n- Request size limits\n- Malicious content detection","operationId":"check_grammar_api_grammar_check_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GrammarCheckRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GrammarCheckResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grammar/check-stream":{"post":{"tags":["grammar"],"summary":"Check Grammar Stream","description":"Streaming grammar check for real-time feedback\nReturns results as they become available","operationId":"check_grammar_stream_api_grammar_check_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GrammarCheckRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grammar/metrics":{"get":{"tags":["grammar"],"summary":"Get Grammar Metrics","description":"Get grammar checking performance metrics","operationId":"get_grammar_metrics_api_grammar_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/grammar/clear-cache":{"post":{"tags":["grammar"],"summary":"Clear Grammar Cache","description":"Clear grammar check cache (admin only)","operationId":"clear_grammar_cache_api_grammar_clear_cache_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/{path}":{"options":{"summary":"Preflight Handler","description":"Handle CORS preflight requests for all paths","operationId":"preflight_handler__path__options","parameters":[{"name":"path","in":"path","required":true,"schema":{"type":"string","title":"Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint for Railway health checks","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/admin/clear-rate-limits":{"post":{"summary":"Clear Rate Limits","description":"Admin endpoint to clear all rate limiting data","operationId":"clear_rate_limits_admin_clear_rate_limits_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/admin/clear-ip-rate-limit/{ip}":{"post":{"summary":"Clear Ip Rate Limit","description":"Admin endpoint to clear rate limiting data for a specific IP","operationId":"clear_ip_rate_limit_admin_clear_ip_rate_limit__ip__post","parameters":[{"name":"ip","in":"path","required":true,"schema":{"type":"string","title":"Ip"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/health":{"get":{"summary":"Health Check","description":"Enhanced health check endpoint\nProvides detailed status of the application and its dependencies.","operationId":"health_check_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/rate-limiter/health":{"get":{"summary":"Rate Limiter Health","description":"Get rate limiter health and statistics","operationId":"rate_limiter_health_api_rate_limiter_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"GrammarCheckRequest":{"properties":{"text":{"type":"string","maxLength":10000,"title":"Text","description":"Text to check for grammar and spelling"},"check_type":{"type":"string","title":"Check Type","description":"Type of check: 'real_time' or 'comprehensive'","default":"real_time"},"language":{"type":"string","title":"Language","description":"Language code for checking","default":"en-US"},"context":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Context","description":"Additional context for comprehensive checking"}},"type":"object","required":["text"],"title":"GrammarCheckRequest","description":"Request for grammar checking"},"GrammarCheckResponse":{"properties":{"text_length":{"type":"integer","title":"Text Length"},"word_count":{"type":"integer","title":"Word Count"},"issues":{"items":{"$ref":"#/components/schemas/GrammarIssueResponse"},"type":"array","title":"Issues"},"check_type":{"type":"string","title":"Check Type"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"},"cached":{"type":"boolean","title":"Cached"},"overall_score":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Overall Score"},"style_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Style Notes"}},"type":"object","required":["text_length","word_count","issues","check_type","processing_time_ms","cached"],"title":"GrammarCheckResponse","description":"Grammar check response"},"GrammarIssueResponse":{"properties":{"start":{"type":"integer","title":"Start"},"end":{"type":"integer","title":"End"},"issue_type":{"type":"string","title":"Issue Type"},"severity":{"type":"string","title":"Severity"},"message":{"type":"string","title":"Message"},"suggestions":{"items":{"type":"string"},"type":"array","title":"Suggestions"},"confidence":{"type":"number","title":"Confidence"},"source":{"type":"string","title":"Source"}},"type":"object","required":["start","end","issue_type","severity","message","suggestions","confidence","source"],"title":"GrammarIssueResponse","description":"Grammar issue response model"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}